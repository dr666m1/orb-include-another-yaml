description: >
  This command handles !include tag inside YAML file.

parameters:
  filepath:
    type: string
    description: "YAML file which includes !include tag"

steps:
  - run:
      name: enable pyyaml
      command: pip install pyyaml
  - s2f/str2file:
      str: <<include(scripts/include.py)>>
  - run:
      name: copy scripts
      environment:
      command: |
        cat temp.py
  - run:
      name: include YAML file inside another
      environment:
        PARAM_FILEPATH: <<parameters.filepath>>
      command: python include.py
